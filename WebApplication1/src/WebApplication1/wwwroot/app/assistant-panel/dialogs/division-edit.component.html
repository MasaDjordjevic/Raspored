<template [ngIf]="division">

    <div *ngIf="new">
        <h3>Raspodela je kopirana</h3> <!--TODO sta je ovo?-->
    </div>

    <div class="content" *ngIf="editedDivision">

        <div class="top">
            <r-input [primaryColor]="primaryColor" [(val)]="editedDivision.name"
                     [label]="_globalService.translate('division_name')"></r-input>
        </div>

        <div class="left">
            <!-- TODO Ovo ngModelChange ne znam sta si htela ali ne treba tu, nego u getteru ovoga sto mu je bindovano kao value -->
            <!-- trentno ionako nemamo studente tako da w/e TODO sta bre nemamo studente?? -->
            <r-dropdown [primaryColor]="primaryColor" *ngIf="courses"
                        [label]="_globalService.translate('subject')" [(val)]="editedDivision.courseID"
                        (ngModelChange)="getStudents()">
                <r-dropdown-item *ngFor="let course of courses" [value]="course.courseID">
                    {{course.name}}
                </r-dropdown-item>
            </r-dropdown>

            <r-dropdown [primaryColor]="primaryColor" *ngIf="divisionTypes"
                        [label]="_globalService.translate('division_type')" [(val)]="editedDivision.divisionTypeID">
                <r-dropdown-item *ngFor="let typez of divisionTypes" [value]="typez.divisionTypeID">
                    {{typez.type}}
                </r-dropdown-item>
            </r-dropdown>
        </div>

        <div class="right">
            <r-input [primaryColor]="primaryColor" [(val)]="editedDivision.beginning"
                     [label]="_globalService.translate('validity_start') + ' (YYYY-MM-DD)'"></r-input>
            <r-input [primaryColor]="primaryColor" [(val)]="editedDivision.ending"
                     [label]="_globalService.translate('validity_end') + ' (YYYY-MM-DD)'"></r-input>
        </div>
    </div>

    <div class="dialog-controls">
        <button [primaryColor]="primaryColor" r-button flat
                [text]="_globalService.translate('reset')" (click)="reset()">
            {{_globalService.translate("reset")}}
        </button>
        <button [primaryColor]="primaryColor" r-button raised
                [text]="_globalService.translate('save_changes')" (click)="update()">
            {{_globalService.translate("save_changes")}}
        </button>
    </div>

</template>