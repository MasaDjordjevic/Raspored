<div class="division-options" *ngIf="division">

    <h1>{{division.name}}</h1>
    <h2>({{division.divisionType.type}})</h2>

    <dl r-dl>
        <!--<dt>ID</dt>
        <dd>{{division.divisionID}}</dd>-->
        <dt>Predmet</dt>
        <dd>{{division.course.name}} (<code>{{division.course.code}}</code>)</dd>

        <dt>Trajanje</dt>
        <dd>{{division.beginning.slice(0, 10)}} — {{division.ending.slice(0, 10)}}</dd>

        <dt>Broj grupa</dt>
        <dd>{{division.Groups.length}}</dd>

        <dt>Broj studenata</dt>
        <dd>{{totalNumberOfStudents()}}</dd>

        <dt>Osnivač grupe</dt>
        <dd>
            {{division.creator.name}} {{division.creator.surname}}
            <a [href]="'mailto:' + division.creator.email"><i class="fa fa-envelope"></i></a>
        </dd>
    </dl>

    <p>{{errorMessage}}</p>

    <div class="flex-spacer"></div>

    <r-dialog #editDivisionDialog [source]="editDivisionButton">
        <div style="height: 500px;width: 500px; overflow: scroll;">
            <division-edit [division]="division" [new]="false"></division-edit>
        </div>
    </r-dialog>

    <r-dialog #newGroupDialog [source]="newGroupButton">
        <div style="height: 500px;width: 500px; overflow: scroll;">
            <group-edit [group]="emptyGroup"></group-edit>
        </div>
    </r-dialog>

    <r-dialog #copyDivisionDialog [source]="copyDivisionButton">
        <div style="height: 1000px;width: 1000px; overflow: scroll;">
            <division-edit [division]="division" [new]="true"></division-edit>
        </div>
    </r-dialog>

    <r-dialog #groupsDialog [source]="groupsButton">
        Sve grupe raspodele
    </r-dialog>

    <r-dialog #exportDivisionDialog [source]="exportDivisionButton">
        PDF
    </r-dialog>

    <r-dialog class="json-debugging" #debuggingDialog [source]="debuggingButton">
        <pre>{{division | json | trim}}</pre>
    </r-dialog>

    <div class="footer-buttons">

        <button r-button flat #debuggingButton
                text="JSON" (click)="debuggingDialog.open()"
                [primaryColor]="primaryColor">
        </button>

        <div class="flex-spacer"></div>

        <button r-button raised #editDivisionButton
                text="Izmeni raspodelu"
                (click)="editDivisionDialog.open()"
                [primaryColor]="primaryColor">
        </button>

        <button r-button raised #newGroupButton
                text="Nova grupa"
                (click)="newGroupDialog.open()"
                [primaryColor]="primaryColor">
        </button>

        <button r-button raised #copyDivisionButton
                text="Kopiraj raspodelu"
                (click)="copyDivisionDialog.open()"
                [primaryColor]="primaryColor">
        </button>

        <button r-button raised #groupsButton
                text="Grupe"
                (click)="groupsDialog.open()"
                [primaryColor]="primaryColor">
        </button>

        <button r-button raised #exportDivisionButton
                text="Izvezi raspodelu"
                (click)="exportDivisionDialog.open()"
                [primaryColor]="primaryColor">
        </button>
    </div>
</div>